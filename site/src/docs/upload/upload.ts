
export default { "content": { "tag": "div", "children": [{ "tag": "article", "children": [{ "tag": "h1", "children": "上传组件" }, { "tag": "h2", "children": "API" }, { "tag": "table", "children": [{ "tag": "thead", "children": [{ "tag": "tr", "children": [{ "tag": "th", "children": "参数" }, { "tag": "th", "children": "说明" }, { "tag": "th", "children": "类型" }, { "tag": "th", "children": "默认值" }] }] }, { "tag": "tbody", "children": [{ "tag": "tr", "children": [{ "tag": "td", "children": "action" }, { "tag": "td", "children": "上传的地址" }, { "tag": "td", "children": ["string or (file: UploadFile) => string ", "|", " Promise", { "tag": "string", "children": [] }] }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "data" }, { "tag": "td", "children": "上传所需额外参数或返回上传额外参数的方法" }, { "tag": "td", "children": ["Record<string, any> or (file: UploadFile) => Record<string, any> ", "|", " Promise<Record<string, any>>"] }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "accept" }, { "tag": "td", "children": "接受上传的文件类型" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "method" }, { "tag": "td", "children": "上传请求的 http method" }, { "tag": "td", "children": ["'POST' ", "|", " 'PUT' ", "|", " 'PATCH'"] }, { "tag": "td", "children": "'POST'" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "withCredentials" }, { "tag": "td", "children": "上传请求时是否携带 cookie" }, { "tag": "td", "children": "boolean" }, { "tag": "td", "children": "false" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "disabled" }, { "tag": "td", "children": "是否禁用" }, { "tag": "td", "children": "boolean" }, { "tag": "td", "children": "false" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "headers" }, { "tag": "td", "children": "设置上传的请求头部" }, { "tag": "td", "children": "Record<string, string>" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "beforeUpload" }, { "tag": "td", "children": "上传文件之前的钩子，参数为上传的文件，若返回 false 则停止上传。支持返回一个 Promise 对象，Promise 对象 reject 时则停止上传，resolve 时开始上传（ resolve 传入 File 或 Blob 对象则上传 resolve 传入对象）" }, { "tag": "td", "children": ["(file: UploadFile) => boolean ", "|", " Promise", { "tag": "uploadfile", "children": [] }] }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "directory" }, { "tag": "td", "children": "支持上传文件夹" }, { "tag": "td", "children": "boolean" }, { "tag": "td", "children": "false" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "multiple" }, { "tag": "td", "children": "是否支持多选文件" }, { "tag": "td", "children": "boolean" }, { "tag": "td", "children": "false" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "listType" }, { "tag": "td", "children": "上传列表的内建样式，支持三种基本样式 text, picture 和 picture-card" }, { "tag": "td", "children": ["'text' ", "|", " 'picture' ", "|", " 'picture-card'"] }, { "tag": "td", "children": "'text'" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "name" }, { "tag": "td", "children": "发到后台的文件参数名" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "'file'" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "onPreview" }, { "tag": "td", "children": "点击文件链接或预览图标时的回调" }, { "tag": "td", "children": "(file: UploadFile) => void" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "onChange" }, { "tag": "td", "children": "上传文件改变时回调" }, { "tag": "td", "children": "(fileList: UploadFile[]) => void" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "canDrag" }, { "tag": "td", "children": "能否拖拽文件" }, { "tag": "td", "children": "boolean" }, { "tag": "td", "children": "false" }] }] }] }, { "tag": "h2", "children": "UploadFile" }, { "tag": "table", "children": [{ "tag": "thead", "children": [{ "tag": "tr", "children": [{ "tag": "th", "children": "参数" }, { "tag": "th", "children": "说明" }, { "tag": "th", "children": "类型" }, { "tag": "th", "children": "默认值" }] }] }, { "tag": "tbody", "children": [{ "tag": "tr", "children": [{ "tag": "td", "children": "file" }, { "tag": "td", "children": "选择的文件" }, { "tag": "td", "children": "File" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "uid" }, { "tag": "td", "children": "文件唯一标识" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "status" }, { "tag": "td", "children": "文件状态" }, { "tag": "td", "children": ["'pre-treated' ", "|", " 'uploading' ", "|", " 'error' ", "|", " 'success'"] }, { "tag": "td", "children": "'pre-treated'" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "percent" }, { "tag": "td", "children": "文件上传进度" }, { "tag": "td", "children": "number" }, { "tag": "td", "children": "0" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "action" }, { "tag": "td", "children": "文件上传地址" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "data" }, { "tag": "td", "children": "文件上传 携带额外 formdata 参数" }, { "tag": "td", "children": "Record<string, any>" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "name" }, { "tag": "td", "children": "文件名" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "-" }] }, { "tag": "tr", "children": [{ "tag": "td", "children": "thumbUrl" }, { "tag": "td", "children": "文件缩略图" }, { "tag": "td", "children": "string" }, { "tag": "td", "children": "-" }] }] }] }] }] }, "meta": {} }
